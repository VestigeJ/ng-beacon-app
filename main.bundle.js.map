{"version":3,"sources":["webpack:///./src/app/bluetooth-utils.service.ts","webpack:///./src/app/ble-uart.service.ts","webpack:///./src/app/ng-beacon.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/firmware/temperature.min.js"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["import { Injectable } from '@angular/core';\n\nexport enum GapAdType {\n  CompleteListOf16BitServiceUuids = 0x3,\n  IncompleteListOf128BitServiceUuids = 0x6,\n  CompleteLocalName = 0x9,\n  ServiceData = 0x16,\n  manufacturerSpecificData = 0xff\n};\n\n\nexport interface IBLEPacketPart {\n  type: GapAdType;\n  data: any[];\n}\n\n@Injectable()\nexport class BluetoothUtilsService {\n  encodeAdvPacket(parts: IBLEPacketPart[]) {\n    let result = [];\n    for (let part of parts) {\n      let encoded = [0, part.type];\n      for (let element of part.data) {\n        if (typeof element === 'string') {\n          encoded.push(...element.split('').map(ch => ch.charCodeAt(0)));\n        }\n        if (typeof element === 'number') {\n          encoded.push(element);\n        }\n      }\n      encoded[0] = encoded.length - 1;\n      if (encoded.length + result.length <= 31) {\n        result.push(...encoded);\n      }\n    }\n    return result;\n  }\n\n  uuidToBytes(uuid: string) {\n    const hex = uuid.replace(/-/g, '');\n    if (!/^[a-f0-9]{32}$/i.test(hex)) {\n      throw new Error(`Invalid UUID: ${uuid}`);\n    }\n    return uuid.match(/[0-9a-f]{2}/ig).map(code => parseInt(code, 16)).reverse();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/bluetooth-utils.service.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport 'rxjs/add/operator/concatMap';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/publish';\nimport 'rxjs/add/operator/scan';\nimport 'rxjs/add/observable/from';\nimport 'rxjs/add/observable/zip';\n\nimport { BluetoothCore } from '@manekinekko/angular-web-bluetooth';\n\n@Injectable()\nexport class BleUartService {\n  static UART_SERVICE = '6e400001-b5a3-f393-e0a9-e50e24dcca9e';\n  static UART_RX = '6e400002-b5a3-f393-e0a9-e50e24dcca9e';\n  static UART_TX = '6e400003-b5a3-f393-e0a9-e50e24dcca9e';\n\n  receive$: Observable<string>;\n  lines$: Observable<string>;\n  writable$: Observable<boolean>;\n  gatt: BluetoothRemoteGATTServer;\n\n  private rxCharacteristic: BluetoothRemoteGATTCharacteristic;\n  private writableSubject = new BehaviorSubject<boolean>(false);\n\n  constructor(private ble: BluetoothCore) {\n    this.writable$ = this.writableSubject.asObservable();\n  }\n\n  connect() {\n    return this.ble\n      .discover$({ filters: [{ services: [BleUartService.UART_SERVICE] }] })\n      .mergeMap(gatt => {\n        this.gatt = gatt;\n        return this.ble.getPrimaryService$(gatt, BleUartService.UART_SERVICE);\n      })\n      .mergeMap(primaryService => this.connectRxTx(primaryService));\n  }\n\n  disconnect() {\n    this.gatt.disconnect();\n  }\n\n  sendText(text: string) {\n    const bytes = text.split('').map(c => c.charCodeAt(0));\n    const chunks = [];\n    while (bytes.length > 0) {\n      chunks.push(new Uint8Array(bytes.splice(0, 20)));\n    }\n    const result = Observable.zip(Observable.from(chunks), this.writableSubject.filter(value => value))\n      .mergeMap(([chunk, writable]) => {\n        this.writableSubject.next(false);\n        return this.ble.writeValue$(this.rxCharacteristic, chunk)\n      })\n      .map(() => setTimeout(() => this.writableSubject.next(true), 10))\n      .publish();\n    result.connect();\n    return result;\n  }\n\n  private connectRxTx(primaryService: BluetoothRemoteGATTService) {\n    const txChar = this.ble.getCharacteristic$(primaryService, BleUartService.UART_TX).share();\n \n    this.receive$ = txChar.mergeMap(characteristic => this.ble.observeValue$(characteristic))\n      .map(value => String.fromCharCode.apply(null, new Uint8Array(value.buffer)) as string);\n\n    let chars = this.receive$.concatMap(chunk => chunk.split(''));\n    this.lines$ = chars.scan((acc, curr) => acc[acc.length - 1] === '\\n' ? curr : acc + curr)\n      .filter(item => item.indexOf('\\n') >= 0)\n\n    return Observable.zip(\n      // RX\n      this.ble\n        .getCharacteristic$(primaryService, BleUartService.UART_RX)\n        .map((characteristic: BluetoothRemoteGATTCharacteristic) => {\n          this.rxCharacteristic = characteristic;\n        }),\n\n      // TX\n      txChar\n    ).do(([rx, tx]) => {\n      this.writableSubject.next(true);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/ble-uart.service.ts","import { Injectable } from '@angular/core';\n\nimport { BleUartService } from './ble-uart.service';\nimport { BluetoothUtilsService, GapAdType } from './bluetooth-utils.service';\n\nconst temperatureFirmware = require('text-loader!../firmware/temperature.min.js') as string;\n\nexport class BeaconParams {\n  name: string;\n}\n\n@Injectable()\nexport class NgBeaconService {\n  constructor(public uart: BleUartService, private bluetoothUtils: BluetoothUtilsService) {\n  }\n\n  connect() {\n    return this.uart.connect();\n  }\n\n  disconnect() {\n    this.uart.disconnect();\n  }\n\n  sendProgram(payload: string) {\n    let code = `\\nE.setBootCode(${JSON.stringify(payload)}, true)\\nload()\\n`;\n    return this.uart.sendText(code);\n  }\n\n  uploadEddystone(params: BeaconParams, url: string) {\n    const advertiseParams = {\n      name: params.name,\n      interval: 250\n    }\n\n    url = url.replace(/^https?:\\/\\//i, '')\n\n    const advertiseData = this.bluetoothUtils.encodeAdvPacket([\n      {\n        type: GapAdType.CompleteListOf16BitServiceUuids,\n        data: [0xaa, 0xfe], // Eddystone ID\n      },\n      {\n        type: GapAdType.ServiceData,\n        data: [\n          0xaa, 0xfe, // Eddystone\n          0x10, // frame type: URL\n          0xf8, // Power\n          0x03, // https://\n          url\n        ]\n      }\n    ]);\n\n    const scanResponseData = this.bluetoothUtils.encodeAdvPacket([\n      {\n        type: GapAdType.CompleteLocalName,\n        data: [params.name]\n      },\n      {\n        type: GapAdType.IncompleteListOf128BitServiceUuids,\n        data: this.bluetoothUtils.uuidToBytes(BleUartService.UART_SERVICE)\n      }\n    ]);\n\n    this.sendProgram(`NRF.setAdvertising(${JSON.stringify(advertiseData)}, ${JSON.stringify(advertiseParams)});NRF.setScanResponse(${JSON.stringify(scanResponseData)});`);\n  }\n\n  uploadTemperature(params: BeaconParams) {\n    const advertiseParams = {\n      name: params.name,\n      interval: 250\n    }\n\n    const advertiseData = this.bluetoothUtils.encodeAdvPacket([\n      {\n        type: GapAdType.CompleteListOf16BitServiceUuids,\n        data: [0x1a, 0x18], // Environment sensing service id\n      },\n      {\n        type: GapAdType.CompleteLocalName,\n        data: [params.name]\n      }\n    ]);\n\n    // this.uart.sendText(`\\nNRF.setAdvertising(${JSON.stringify(advertiseData)},${JSON.stringify(advertiseParams)});\\n`);\n    this.sendProgram(`NRF.setAdvertising(${JSON.stringify(advertiseData)},${JSON.stringify(advertiseParams)});\\n${temperatureFirmware};`);\n  }\n\n  uploadIBeacon(params: BeaconParams) {\n    const advertiseParams = {\n      name: params.name,\n      interval: 250\n    }\n\n    const major = 10000;\n    const minor = 1;\n\n    const advertiseData = this.bluetoothUtils.encodeAdvPacket([{\n        type: GapAdType.manufacturerSpecificData,\n        data: [\n          0x4c, 0x00, // Apple ID\n          0x02, // type: iBeacon\n          0x15, // size of remaining data\n          'ng-beacon rocks!', // UUID - must be 16 bytes\n          major >> 8, major & 0xff,\n          minor >> 8, minor & 0xff,\n          -59, // RSSI: 1 meter distance, in dBm\n        ], \n    }]);\n\n    const scanResponseData = this.bluetoothUtils.encodeAdvPacket([\n      {\n        type: GapAdType.CompleteLocalName,\n        data: [params.name]\n      },\n      {\n        type: GapAdType.IncompleteListOf128BitServiceUuids,\n        data: this.bluetoothUtils.uuidToBytes(BleUartService.UART_SERVICE)\n      }\n    ]);\n\n    this.sendProgram(`NRF.setAdvertising(${JSON.stringify(advertiseData)}, ${JSON.stringify(advertiseParams)});NRF.setScanResponse(${JSON.stringify(scanResponseData)});`);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/ng-beacon.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 461;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 461\n// module chunks = 1","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\n\nimport { NgBeaconService } from './ng-beacon.service';\nimport { BluetoothUtilsService } from './bluetooth-utils.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  connecting = false;\n  connected = false;\n  beaconVersion = '';\n  beaconSerialNum = '';\n  beaconName = 'ng-beacon';\n  beaconUrl = 'ngbeacon.io';\n  debugLog = '';\n\n  constructor(private ngBeacon: NgBeaconService, private bluetoothUtils: BluetoothUtilsService) {}\n\n  connect() {\n    this.connecting = true;\n    this.beaconVersion = '';\n    this.beaconSerialNum = '';\n    this.ngBeacon.connect()\n      .finally(() => {\n        this.connecting = false;\n      })\n      .subscribe(() => {\n        this.connected = true;\n        this.ngBeacon.uart.receive$.subscribe(value => this.debugLog += value);\n        this.ngBeacon.uart.lines$.subscribe(line => {\n          if (!this.beaconVersion && line.indexOf('\"VERSION\"') >= 0) {\n            this.beaconVersion = line.split('\"')[3];\n          }\n          if (!this.beaconSerialNum && line.indexOf('\"SERIAL\"') >= 0) {\n            this.beaconSerialNum = line.split('\"')[3];\n          }\n        });\n        this.ngBeacon.uart.sendText('\\nprocess.env\\n');\n      });\n  }\n\n  disconnect() {\n    this.ngBeacon.disconnect();\n    this.clearLog();\n    this.connected = false;\n  }\n\n  clearLog() {\n    this.debugLog = '';\n  }\n\n  reset() {\n    this.ngBeacon.uart.sendText(\"\\nreset()\\n\");\n  }\n\n  uploadEddystone() {\n    this.ngBeacon.uploadEddystone({name: this.beaconName}, this.beaconUrl);\n  }\n\n  uploadTemperature() {\n    this.ngBeacon.uploadTemperature({name: this.beaconName});\n  }\n\n  uploadIBeacon() {\n    this.ngBeacon.uploadIBeacon({name: this.beaconName});\n  }\n\n  readTemperature() {\n    this.ngBeacon.uart.sendText(`ngbeacon.temperature()\\n ngbeacon.humidity()\\n`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { MaterialModule } from '@angular/material';\nimport { WebBluetoothModule } from '@manekinekko/angular-web-bluetooth';\n\nimport { NgBeaconService } from './ng-beacon.service';\nimport { BluetoothUtilsService } from './bluetooth-utils.service';\nimport { BleUartService } from './ble-uart.service';\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    WebBluetoothModule.forRoot(),\n    MaterialModule.forRoot()\n  ],\n  providers: [NgBeaconService, BluetoothUtilsService, BleUartService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".flex-fill {\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1;\\n}\\n\\nmd-toolbar a,\\nmd-toolbar a:visited {\\n    color: white;\\n}\\n\\nmd-card {\\n    margin-top: 10px;\\n}\", \"\", {\"version\":3,\"sources\":[\"/./src/app/app.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,oBAAQ;QAAR,YAAQ;YAAR,QAAQ;CACX;;AAED;;IAEI,aAAa;CAChB;;AAED;IACI,iBAAiB;CACpB\",\"file\":\"app.component.css\",\"sourcesContent\":[\".flex-fill {\\n    flex: 1;\\n}\\n\\nmd-toolbar a,\\nmd-toolbar a:visited {\\n    color: white;\\n}\\n\\nmd-card {\\n    margin-top: 10px;\\n}\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 770\n// module chunks = 1","module.exports = \"<md-toolbar color=\\\"primary\\\">\\n  ng-beacon Configuration Utility\\n  <div class=\\\"flex-fill\\\"></div>\\n  <a href=\\\"https://github.com/urish/ng-beacon-app\\\" title=\\\"View on Github\\\" target=\\\"_blank\\\">\\n    <md-icon>code</md-icon>\\n  </a>\\n</md-toolbar>\\n\\n<md-card *ngIf=\\\"!connected\\\">\\n  <md-card-title>Connect</md-card-title>\\n  <button md-raised-button (click)=\\\"connect()\\\" [disabled]=\\\"connecting\\\">\\n    <md-icon>bluetooth_searching</md-icon> Connect to ng-beacon\\n  </button>\\n</md-card>\\n\\n<div *ngIf=\\\"connected\\\">\\n  <md-card>\\n    <md-card-title><md-icon>done</md-icon> Connected</md-card-title>\\n  \\n    <md-card-content>\\n      <p>Version: {{beaconVersion}}</p>\\n      <p>Serial: {{beaconSerialNum}}</p>\\n    </md-card-content>\\n\\n    <button md-button (click)=\\\"readTemperature()\\\">Read Temperature</button>\\n    <button md-raised-button (click)=\\\"disconnect()\\\">Disconnect</button>\\n  </md-card>\\n\\n  <md-card>\\n    <md-card-title>Configure Beacon</md-card-title>\\n\\n    <md-card-content>\\n      <div>\\n        <md-input-container>\\n          <input md-input placeholder=\\\"Beacon name\\\" [(ngModel)]=\\\"beaconName\\\" maxlength=\\\"10\\\" />\\n        </md-input-container>\\n        <md-input-container>\\n          <input md-input placeholder=\\\"Physical Web URL\\\" [(ngModel)]=\\\"beaconUrl\\\" maxlength=\\\"20\\\" />\\n        </md-input-container>\\n      </div>\\n\\n      <button md-button (click)=\\\"reset()\\\">Reset</button>\\n      <button md-button (click)=\\\"uploadEddystone()\\\">Eddystone Beacon</button>\\n      <button md-button (click)=\\\"uploadTemperature()\\\">Temperature Sensor</button>\\n      <button md-button (click)=\\\"uploadIBeacon()\\\">iBeacon</button>\\n    </md-card-content>\\n  </md-card>\\n\\n  <md-card>\\n    <md-card-title>Debug Log</md-card-title>\\n    <md-card-content>\\n      <pre>{{debugLog}}</pre>\\n    </md-card-content>\\n    <md-card-actions>\\n      <button md-button (click)=\\\"clearLog()\\\"><md-icon>delete</md-icon></button>\\n    </md-card-actions>\\n  </md-card>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 772\n// module chunks = 1","module.exports = \"function onInit(){function a(){var a=new Int16Array([100*ngbeacon.temperature()]),b=new Uint16Array([100*ngbeacon.humidity()]);NRF.updateServices({6170:{10862:{value:a.buffer,notify:!0},10863:{value:b.buffer,notify:!0}}})}NRF.setServices({6170:{10862:{readable:!0,notify:!0,value:[0,0]},10863:{readable:!0,notify:!0,value:[0,0]}}});var b;NRF.on(\\\"connect\\\",function(){a();b=setInterval(a,250)});NRF.on(\\\"disconnect\\\",function(){clearInterval(b)})};\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/text-loader!./src/firmware/temperature.min.js\n// module id = 823\n// module chunks = 1"],"sourceRoot":""}